webpackJsonp([1],{"+XIZ":function(e,t){},"0oU5":function(e,t){},"41hr":function(e,t){},"5UKn":function(e,t){},Ago8:function(e,t){},"DC+O":function(e,t){},DjtY:function(e,t){},"Eq/O":function(e,t){},HMqN:function(e,t){},Jmhh:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),r=s("zL8q"),o=s.n(r),i=(s("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var n=s("VU/8")({name:"App"},i,!1,function(e){s("d0u9")},null,null).exports,l=s("NYxO"),p=s("/ocq"),c=s("Dd8w"),d=s.n(c),u={data:function(){return{}},mounted:function(){var e=this;this.$store.state.userInfor.user||this.$request.get("/api/cloudplatform/getSession").end(function(t,s){t?e.$message({type:"error",message:t.response.text}):s.body?e.$store.commit("setUserInfor",d()({},s.body)):e.$router.push("/login")})},computed:{userName:function(){return this.$store.state.userInfor.user||localStorage.user},userAccount:function(){return this.$store.state.userInfor.account||localStorage.account}},methods:{logout:function(){var e=this;this.$request.get("/api/cloudplatform/logout").end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.$router.push("/login")})},accountInfor:function(){"Gr"===this.$store.state.userInfor.type&&this.$router.push("/gr/detail?account="+this.$store.state.userInfor.account)}}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"index"},[s("el-container",[s("el-header",[s("p",{staticClass:"title header-item"},[e._v("HITHISENSE云平台")]),e._v(" "),s("p",{staticClass:"user-infor header-item"},[s("span",[e._v("角色名称："+e._s(e.userName))]),e._v(" "),s("span",{staticClass:"content"},[s("span",{staticClass:"user",on:{click:e.accountInfor}},[e._v(e._s(e.userAccount))]),e._v(" "),s("span",{staticClass:"logout",on:{click:e.logout}},[e._v("注销")])])])]),e._v(" "),s("el-main",[s("router-view")],1)],1)],1)},staticRenderFns:[]};var f=s("VU/8")(u,m,!1,function(e){s("uzI9")},"data-v-a957fbaa",null).exports,v=s("fZjL"),b=s.n(v),_={data:function(){return{form:{id:"",pwd:"",type:""},typeEnum:{MOr:"运维人员登录模式",Dr:"开发者登录模式，账号需注册审核",Gr:"组织用户登录模式，账号需注册审核",iSC:"服务中心管理员登录模式",Cus:"客户登录模式，账号需注册"}}},computed:{typeE:function(){return b()(this.typeEnum)}},methods:{login:function(){var e=this;""===this.form.id?this.$message("账号为空！"):""===this.form.pwd?this.$message("密码为空！"):""===this.form.type?this.$message("请选择登入角色！"):this.$request.post("/api/cloudplatform/login").set("contentType","application/json").send({userId:"",userAccount:this.form.id,userPwd:this.form.pwd,userJur:this.form.type,email:"",phone:"",flag:"",groupId:""}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):"[msg]AccountError"===s.text?e.$message("账号不存在！"):"[msg]PasswordError"===s.text?e.$message("密码错误！"):"[msg]JurisdictionError"===s.text?e.$message("权限错误！"):(localStorage.setItem("user",s.text),localStorage.setItem("type",e.form.type),localStorage.setItem("account",e.form.id),e.$store.commit("setUserInfor",{user:s.text,type:e.form.type,account:e.form.id}),e.$router.push("/"+(e.form.type&&e.form.type.toLowerCase())))})}}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"content"},[s("h3",{staticClass:"title"},[e._v("HITHISENSE云平台")]),e._v(" "),s("div",{staticClass:"edit-wrapper"},[s("el-form",{attrs:{model:e.form,"label-width":".6rem"}},[s("el-form-item",{attrs:{label:"账号："}},[s("el-input",{attrs:{placeholder:"输入账号"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码："}},[s("el-input",{attrs:{type:"password",placeholder:"输入密码"},model:{value:e.form.pwd,callback:function(t){e.$set(e.form,"pwd",t)},expression:"form.pwd"}})],1),e._v(" "),s("div",{staticClass:"type-wrapper"},[s("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeE,function(t){return s("el-radio",{key:t,attrs:{label:t}},[e._v(e._s(t))])}))],1),e._v(" "),e.form.type?s("div",{staticClass:"desc"},[e._v(e._s(e.form.type)+"："+e._s(e.typeEnum[e.form.type]))]):e._e(),e._v(" "),s("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.login}},[e._v("登入")]),e._v(" "),s("p",{staticClass:"register"},[s("a",{attrs:{href:"/#/register"}},[e._v("注册")])])],1)],1)])])},staticRenderFns:[]};var I=s("VU/8")(_,h,!1,function(e){s("41hr")},null,null).exports,y=s("1nuA");function g(e){return e.toString().length>1?""+e:"0"+e}function C(e){if(!e)return"";var t=new Date(+e),s=t.getHours(),a=t.getMinutes(),r=t.getSeconds();return g(s)+":"+g(a)+":"+g(r)}function $(e){if(!e)return"";var t=new Date(+e),s=t.getFullYear(),a=t.getMonth()+1,r=t.getDate();return s+"-"+g(a)+"-"+g(r)}function x(e){return y.parse(e)}function D(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="",e.join("")}var S={props:{infor:{type:Array,required:!0},selectable:{type:Boolean,default:!1},isDr:{type:Boolean,default:!1}},data:function(){return{}},methods:{formatDate:$,goForDetail:function(e,t){var s="/detail?id="+e.bscID+"&version="+e.version;this.isDr&&(s+="&isDr=1"),this.$router.push(s)},selectChange:function(e){this.$emit("addPdt",e)}}},k={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"component-infor"},[s("el-table",{attrs:{data:e.infor,border:!0,stripe:""},on:{"row-dblclick":e.goForDetail,"selection-change":e.selectChange}},[e.selectable?s("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._v(" "),s("el-table-column",{attrs:{type:"index",label:"序号",width:"50%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"bscID",label:"组件ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"bscName",label:"组件名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"version",label:"组件版本"}}),e._v(" "),s("el-table-column",{attrs:{label:"组件状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.open?"已发布":"未发布")+"\n            ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"bscTime",label:"创建时间"}}),e._v(" "),s("el-table-column",{attrs:{prop:"modifiedTime",label:"修改时间"}})],1)],1)},staticRenderFns:[]};var w=s("VU/8")(S,k,!1,function(e){s("5UKn")},null,null).exports,T=[{value:1,label:"测试中"}],M=[{value:"01",label:"SaaS服务"},{value:"02",label:"硬件产品"},{value:"03",label:"人工服务"}],O=[{value:"0",label:"待上架"},{value:"1",label:"已上架"},{value:"2",label:"已下架"},{value:"3",label:"停用"}],N={"01":"SaaS服务","02":"硬件产品","03":"人工服务"},L={0:"待上架",1:"已上架",2:"已下架",3:"停用"},P={0:"未提交",1:"未审核",2:"已审核",3:"已结算"},q={components:{ComponentInfor:w},data:function(){return{status:T,param:{id:"",name:"",version:"",status:""},infor:[{bscID:"1",version:"1.0.1"}]}},mounted:function(){var e=this;this.$request.post("/api/cloudplatform/DrBSCInfo").set("contentType","application/json").send({userName:this.$store.state.userInfor.user||localStorage.getItem("user")}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.infor=s.body})}},V={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dr-index"},[s("p",{staticClass:"title"},[e._v("我的组件:")]),e._v(" "),s("div",{staticClass:"query-param"},[s("el-form",{attrs:{model:e.param,"label-width":".8rem",inline:!0}},[s("el-form-item",{attrs:{label:"组件ID"}},[s("el-input",{attrs:{placeholder:"输入组件ID",clearable:""},model:{value:e.param.id,callback:function(t){e.$set(e.param,"id",t)},expression:"param.id"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"组件名称"}},[s("el-input",{attrs:{placeholder:"输入组件名称",clearable:""},model:{value:e.param.name,callback:function(t){e.$set(e.param,"name",t)},expression:"param.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"组件版本"}},[s("el-input",{attrs:{placeholder:"输入组件版本",clearable:""},model:{value:e.param.version,callback:function(t){e.$set(e.param,"version",t)},expression:"param.version"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"组件状态"}},[s("el-select",{attrs:{placeholder:"选择组件状态",clearable:""},model:{value:e.param.status,callback:function(t){e.$set(e.param,"status",t)},expression:"param.status"}},e._l(e.status,function(e){return s("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],1),e._v(" "),s("el-button",{attrs:{type:"primary"}},[e._v("查询")])],1)],1),e._v(" "),s("component-infor",{attrs:{infor:e.infor,isDr:!0}})],1)},staticRenderFns:[]};var A=s("VU/8")(q,V,!1,function(e){s("yBcw")},"data-v-8e193f8c",null).exports,B={data:function(){return{}},created:function(){1===location.href.split("mor/").length&&this.$router.replace("/mor/comppublish")}},F={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mor-index"},[s("el-container",[s("el-aside",[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:!0}},[s("el-menu-item",{attrs:{index:"1",route:"/mor/comppublish"}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v("开发者组件发布")])]),e._v(" "),s("el-menu-item",{attrs:{index:"2",route:"/mor/prodlist"}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v("产品列表")])]),e._v(" "),s("el-menu-item",{attrs:{index:"3",route:"/mor/userregister"}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v("组织用户注册")])]),e._v(" "),s("el-menu-item",{attrs:{index:"4",route:"/mor/order"}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v("产品订购单")])]),e._v(" "),s("el-menu-item",{attrs:{index:"5",route:"/mor/isclist"}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v("isc列表")])]),e._v(" "),s("el-menu-item",{attrs:{index:"6",route:"/mor/iscrequest"}},[s("span",{attrs:{slot:"title"},slot:"title"},[e._v("isc账号申请")])])],1)],1),e._v(" "),s("el-main",[s("router-view")],1)],1)],1)},staticRenderFns:[]};var E=s("VU/8")(B,F,!1,function(e){s("ZgVJ")},null,null).exports,R={props:{prodList:{type:Array,required:!0},isOrder:{type:Boolean,default:!1},isGr:{type:Boolean,default:!1},isAccountDetail:{type:Boolean,default:!1},isMOr:{type:Boolean,default:!1},editor:{type:Boolean,default:!1}},data:function(){return{prodType:N,prodStatus:L}},methods:{goForDetail:function(e,t){var s="/prodDetail?id="+e.pdtId+"&version="+e.pdtVersion;this.isMOr&&(s+="&isMOr=1"),this.editor&&(s+="&editor=1"),this.$router.push(s)},handleSelectionChange:function(e){this.$emit("addOrder",e)},deletePro:function(e){this.$emit("deletePro",e)}}},j={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"prod-list-infor"},[s("el-table",{attrs:{data:e.prodList,border:""},on:{"row-dblclick":e.goForDetail,"selection-change":e.handleSelectionChange}},[e.isGr&!e.isOrder?s("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._v(" "),s("el-table-column",{attrs:{type:"index",label:"序号",width:"50%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"pdtId",label:"产品ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"pdtName",label:"产品名称"}}),e._v(" "),s("el-table-column",{attrs:{label:"产品类别"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.prodType[t.row.pdtType])+"\n            ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"pdtVersion",label:"产品版本"}}),e._v(" "),e.isOrder||e.isGr?e._e():s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.prodStatus[t.row.pdtStatus])+"\n            ")]}}])}),e._v(" "),e.isOrder||e.isGr?e._e():s("el-table-column",{attrs:{prop:"createdTime",label:"创建时间"}}),e._v(" "),e.isOrder||e.isGr?e._e():s("el-table-column",{attrs:{prop:"lastModifiedTime",label:"修改时间"}}),e._v(" "),e.isOrder&&!e.isGr?s("el-table-column",{attrs:{label:"产品价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isAccountDetail?s("span",[e._v(e._s(t.row.pdtPrice))]):s("el-input",{model:{value:t.row.pdtPrice,callback:function(s){e.$set(t.row,"pdtPrice",s)},expression:"scope.row.pdtPrice"}})]}}])}):e._e(),e._v(" "),e.isOrder&&e.isGr?s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text"},on:{click:function(s){e.deletePro(t.$index)}}},[e._v("删除")])]}}])}):e._e()],1)],1)},staticRenderFns:[]};var U=s("VU/8")(R,j,!1,function(e){s("0oU5")},null,null).exports,G={components:{ProdListInfor:U},data:function(){return{param:{pdtId:"",pdtName:"",pdtType:"",pdtVersion:""},prodList:[],selection:[]}},methods:{goForDetail:function(){var e=this;if(this.selection.length){var t=this.selection.map(function(e){return{id:e.pdtId,version:e.pdtVersion}});this.$request.post("/api/cloudplatform/saveOrderSelectPdts").set("contentType","application/json").send(t).end(function(t){t&&e.$message({type:"error",message:t.response.text})}),this.$router.push("/orderdetail?isGr=1")}else this.$message({type:"warning",message:"至少选择一条数据"})},addOrder:function(e){this.selection=e}},created:function(){var e=this;this.$request.get("/api/cloudplatform/GrpdtInfo").end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.prodList=s.body})}},z={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"gr-index"},[s("p",{staticClass:"title"},[e._v("产品列表:")]),e._v(" "),s("div",{staticClass:"query-param"},[s("el-form",{attrs:{model:e.param,"label-width":".8rem",inline:!0}},[s("el-form-item",{attrs:{label:"产品ID"}},[s("el-input",{attrs:{placeholder:"输入产品ID",clearable:""},model:{value:e.param.pdtId,callback:function(t){e.$set(e.param,"pdtId",t)},expression:"param.pdtId"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"产品名称"}},[s("el-input",{attrs:{placeholder:"输入产品名称",clearable:""},model:{value:e.param.pdtName,callback:function(t){e.$set(e.param,"pdtName",t)},expression:"param.pdtName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"产品类别"}},[s("el-input",{attrs:{placeholder:"输入产品类别",clearable:""},model:{value:e.param.pdtType,callback:function(t){e.$set(e.param,"pdtType",t)},expression:"param.pdtType"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"产品版本"}},[s("el-input",{attrs:{placeholder:"输入产品版本",clearable:""},model:{value:e.param.pdtVersion,callback:function(t){e.$set(e.param,"pdtVersion",t)},expression:"param.pdtVersion"}})],1),e._v(" "),s("el-button",{attrs:{type:"primary"}},[e._v("搜索")])],1)],1),e._v(" "),s("prod-list-infor",{attrs:{prodList:e.prodList,isGr:!0},on:{addOrder:e.addOrder}}),e._v(" "),s("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.goForDetail}},[e._v("订购")])],1)},staticRenderFns:[]};var H=s("VU/8")(G,z,!1,function(e){s("mGZz")},null,null).exports,Q={components:{ComponentInfor:w},data:function(){return{status:status,param:{id:"",name:"",version:"",status:""},infor:[],selection:[]}},methods:{goForAdd:function(){var e=this;if(this.selection.length){var t=this.selection.map(function(e){return{id:e.bscID,version:e.version}});this.$request.post("/api/cloudplatform/savePdtSelectBSCs").set("contentType","application/json").send(t).end(function(t){t&&e.$message({type:"error",message:t.response.text})}),this.$router.push("/prodDetail?editor=1&isMOr=1")}else this.$message({type:"warning",message:"至少选择一条数据"})},addPdt:function(e){this.selection=e}},created:function(){var e=this;this.$request.get("/api/cloudplatform/MOrBSCInfo").end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.infor=s.body})}},Z={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comp-publish"},[s("div",{staticClass:"query-param"},[s("el-form",{attrs:{model:e.param,"label-width":".8rem",inline:!0}},[s("el-form-item",{attrs:{label:"组件ID"}},[s("el-input",{attrs:{placeholder:"输入组件ID",clearable:""},model:{value:e.param.id,callback:function(t){e.$set(e.param,"id",t)},expression:"param.id"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"组件名称"}},[s("el-input",{attrs:{placeholder:"输入组件ID",clearable:""},model:{value:e.param.name,callback:function(t){e.$set(e.param,"name",t)},expression:"param.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"组件版本"}},[s("el-input",{attrs:{placeholder:"输入组件ID",clearable:""},model:{value:e.param.version,callback:function(t){e.$set(e.param,"version",t)},expression:"param.version"}})],1),e._v(" "),s("el-button",{attrs:{type:"primary"}},[e._v("搜索")])],1)],1),e._v(" "),s("div",{staticClass:"add-wrapper"},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.goForAdd}},[e._v("添加产品")])],1),e._v(" "),s("component-infor",{attrs:{infor:e.infor,selectable:!0},on:{addPdt:e.addPdt}})],1)},staticRenderFns:[]};var J=s("VU/8")(Q,Z,!1,function(e){s("w4Vm")},null,null).exports,K={props:{iscList:{type:Array,required:!0},isAccountDetail:{type:Boolean,default:!1},isMOr:{type:Boolean,default:!1}},data:function(){return{}},methods:{goForDetail:function(e,t){var s="/iscdetail?id="+e.iSCId+"&og="+e.ogId;this.isMOr&&(s+="&isMOr=1"),this.$router.push(s)}}},Y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"og-order-list"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.iscList,border:""},on:{"row-dblclick":e.goForDetail}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"50%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"iSCId",label:"iSC ID"}}),e._v(" "),e.isAccountDetail?e._e():s("el-table-column",{attrs:{prop:"ogId",label:"组织ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"iSCName",label:"iSC名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"iSCType",label:"iSC类型"}}),e._v(" "),s("el-table-column",{attrs:{prop:"gmtCreate",label:"创建时间"}})],1)],1)},staticRenderFns:[]};var X=s("VU/8")(K,Y,!1,function(e){s("Jmhh")},null,null).exports,W={components:{IscListInfor:X},data:function(){return{param:{iSCId:"",ogId:"",iSCName:"",iSCType:""},iscList:[]}},created:function(){var e=this;this.$request.get("/api/cloudplatform/MOriSCInfo").end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.iscList=s.body||[]})}},ee={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"isc-list"},[s("div",{staticClass:"query-param"},[s("el-form",{attrs:{model:e.param,"label-width":".8rem",inline:!0}},[s("el-form-item",{attrs:{label:"iSC ID"}},[s("el-input",{attrs:{placeholder:"输入组件ID",clearable:""},model:{value:e.param.iSCId,callback:function(t){e.$set(e.param,"iSCId",t)},expression:"param.iSCId"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"组织ID"}},[s("el-input",{attrs:{placeholder:"输入组件ID",clearable:""},model:{value:e.param.ogId,callback:function(t){e.$set(e.param,"ogId",t)},expression:"param.ogId"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"iSC 名称"}},[s("el-input",{attrs:{placeholder:"输入组件ID",clearable:""},model:{value:e.param.iSCName,callback:function(t){e.$set(e.param,"iSCName",t)},expression:"param.iSCName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"iSC 类型"}},[s("el-input",{attrs:{placeholder:"输入组件ID",clearable:""},model:{value:e.param.iSCType,callback:function(t){e.$set(e.param,"iSCType",t)},expression:"param.iSCType"}})],1),e._v(" "),s("el-button",{attrs:{type:"primary"}},[e._v("搜索")])],1)],1),e._v(" "),s("isc-list-infor",{attrs:{iscList:e.iscList,isMOr:!0}})],1)},staticRenderFns:[]};var te=s("VU/8")(W,ee,!1,function(e){s("Ago8")},null,null).exports,se={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var ae=s("VU/8")({data:function(){return{}}},se,!1,function(e){s("Eq/O")},null,null).exports,re={props:{orders:{type:Array,required:!0},isAccountDetail:{type:Boolean,default:!1},isMOr:{type:Boolean,default:!1}},data:function(){return{orderdStatus:P}},methods:{goForDetail:function(e,t){var s="/orderdetail?id="+e.orderId;this.isAccountDetail&&(s+="&isAccountDetail=1"),this.isMOr&&(s+="&isMOr=1"),this.$router.push(s)}}},oe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"og-order-list"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orders,border:""},on:{"row-dblclick":e.goForDetail}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"50%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"orderId",label:"订单ID"}}),e._v(" "),e.isAccountDetail?e._e():s("el-table-column",{attrs:{prop:"ogId",label:"组织ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"createdBy",label:"创建人"}}),e._v(" "),s("el-table-column",{attrs:{prop:"gmtCreate",label:"创建时间"}}),e._v(" "),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.orderdStatus[t.row.auditFlag])+"\n            ")]}}])}),e._v(" "),e.isAccountDetail?e._e():s("el-table-column",{attrs:{prop:"checkPerson",label:"审核人"}}),e._v(" "),e.isAccountDetail?e._e():s("el-table-column",{attrs:{prop:"gmtModified",label:"修改时间"}})],1)],1)},staticRenderFns:[]};var ie=s("VU/8")(re,oe,!1,function(e){s("HMqN")},null,null).exports,ne={components:{OgOrderList:ie},data:function(){return{param:{orderId:"",ogId:"",status:""},orders:[]}},created:function(){var e=this;this.$request.get("/api/cloudplatform/MOrorderInfo").end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.orders=s.body})}},le={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mor-order"},[s("div",{staticClass:"query-param"},[s("el-form",{attrs:{model:e.param,"label-width":".8rem",inline:!0}},[s("el-form-item",{attrs:{label:"订单ID"}},[s("el-input",{attrs:{placeholder:"输入组件ID",clearable:""},model:{value:e.param.orderId,callback:function(t){e.$set(e.param,"orderId",t)},expression:"param.orderId"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"组织ID"}},[s("el-input",{attrs:{placeholder:"输入组件ID",clearable:""},model:{value:e.param.ogId,callback:function(t){e.$set(e.param,"ogId",t)},expression:"param.ogId"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"状态"}},[s("el-input",{attrs:{placeholder:"输入组件ID",clearable:""},model:{value:e.param.status,callback:function(t){e.$set(e.param,"status",t)},expression:"param.status"}})],1),e._v(" "),s("el-button",{attrs:{type:"primary"}},[e._v("搜索")])],1)],1),e._v(" "),s("og-order-list",{attrs:{orders:e.orders,isMOr:!0}})],1)},staticRenderFns:[]};var pe=s("VU/8")(ne,le,!1,function(e){s("f8HT")},null,null).exports,ce={components:{ProdListInfor:U},data:function(){return{param:{id:"",name:"",version:"",type:"",status:""},prodList:[]}},created:function(){var e=this;this.$request.get("/api/cloudplatform/MOrpdtInfo").end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.prodList=s.body})}},de={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"prod-list"},[s("div",{staticClass:"query-param"},[s("el-form",{attrs:{model:e.param,"label-width":".8rem",inline:!0}},[s("el-form-item",{attrs:{label:"产品ID"}},[s("el-input",{attrs:{placeholder:"输入产品ID",clearable:""},model:{value:e.param.id,callback:function(t){e.$set(e.param,"id",t)},expression:"param.id"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"产品名称"}},[s("el-input",{attrs:{placeholder:"输入产品名称",clearable:""},model:{value:e.param.name,callback:function(t){e.$set(e.param,"name",t)},expression:"param.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"产品类别"}},[s("el-input",{attrs:{placeholder:"输入产品类别",clearable:""},model:{value:e.param.type,callback:function(t){e.$set(e.param,"type",t)},expression:"param.type"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"产品版本"}},[s("el-input",{attrs:{placeholder:"输入产品版本",clearable:""},model:{value:e.param.version,callback:function(t){e.$set(e.param,"version",t)},expression:"param.version"}})],1),e._v(" "),s("el-button",{attrs:{type:"primary"}},[e._v("搜索")])],1)],1),e._v(" "),s("prod-list-infor",{attrs:{prodList:e.prodList,isMOr:!0,editor:!0}})],1)},staticRenderFns:[]};var ue=s("VU/8")(ce,de,!1,function(e){s("DjtY")},null,null).exports,me={props:{infor:{type:Array,required:!0}},data:function(){return{}},methods:{goForDetail:function(){this.$router.push()}}},fe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"prod-list-infor"},[s("el-table",{attrs:{data:e.infor,border:""},on:{"row-dbclick":e.goForDetail}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"50%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"ogId",label:"组织ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"ogName",label:"组织名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"ogAttribute",label:"属性"}}),e._v(" "),s("el-table-column",{attrs:{prop:"ogType",label:"组织类别"}}),e._v(" "),s("el-table-column",{attrs:{prop:"ogStatus",label:"状态"}}),e._v(" "),s("el-table-column",{attrs:{prop:"gmtCreate",label:"创建时间"}}),e._v(" "),s("el-table-column",{attrs:{prop:"gmtModified",label:"修改时间"}})],1)],1)},staticRenderFns:[]};var ve={components:{UserRegisterInfor:s("VU/8")(me,fe,!1,function(e){s("s40X")},null,null).exports},data:function(){return{param:{id:"",name:"",attr:"",type:"",status:""},infor:[]}}},be={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-register"},[s("div",{staticClass:"query-param"},[s("el-form",{attrs:{model:e.param,"label-width":".8rem",inline:!0}},[s("el-form-item",{attrs:{label:"组织ID"}},[s("el-input",{attrs:{placeholder:"输入组织ID",clearable:""},model:{value:e.param.id,callback:function(t){e.$set(e.param,"id",t)},expression:"param.id"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"组织名称"}},[s("el-input",{attrs:{placeholder:"输入组织名称",clearable:""},model:{value:e.param.name,callback:function(t){e.$set(e.param,"name",t)},expression:"param.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"属性"}},[s("el-input",{attrs:{placeholder:"输入属性",clearable:""},model:{value:e.param.attr,callback:function(t){e.$set(e.param,"attr",t)},expression:"param.attr"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"组织类别"}},[s("el-input",{attrs:{placeholder:"输入组织类别",clearable:""},model:{value:e.param.type,callback:function(t){e.$set(e.param,"type",t)},expression:"param.type"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"状态"}},[s("el-input",{attrs:{placeholder:"输入状态",clearable:""},model:{value:e.param.status,callback:function(t){e.$set(e.param,"status",t)},expression:"param.status"}})],1),e._v(" "),s("el-button",{attrs:{type:"primary"}},[e._v("搜索")])],1)],1),e._v(" "),s("user-register-infor",{attrs:{infor:e.infor}})],1)},staticRenderFns:[]};var _e=s("VU/8")(ve,be,!1,function(e){s("cL4S")},null,null).exports,he=s("Gu7T"),Ie=s.n(he),ye={props:{dataModelList:{type:Array,required:!0}},data:function(){return{}},methods:{goForDetail:function(){}}},ge={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"data-model-infor"},[s("el-table",{attrs:{data:e.dataModelList,border:!0,stripe:""},on:{"row-dblclick":e.goForDetail}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"50%"}}),e._v(" "),s("el-table-column",{attrs:{prop:"dmID",label:"模型ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"dmName",label:"模型名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"tableName",label:"表名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"dmType",label:"类型"}}),e._v(" "),s("el-table-column",{attrs:{prop:"dmVersion",label:"版本"}}),e._v(" "),s("el-table-column",{attrs:{prop:"dmDesc",label:"描述"}}),e._v(" "),s("el-table-column",{attrs:{prop:"gmtCreate",label:"创建时间"}}),e._v(" "),s("el-table-column",{attrs:{prop:"gmtModified",label:"修改时间"}})],1)],1)},staticRenderFns:[]};var Ce={components:{ComponentInfor:w,DataModelInfor:s("VU/8")(ye,ge,!1,function(e){s("+XIZ")},null,null).exports},data:function(){return{id:"",version:"",activeNames:["1"],publishActiveNames:["1"],baseInfor:{bscID:"",bscName:"",bscType:"",bscTime:"",modifiedTime:"",bscNum:"",developer:"",version:"",url:"",description:"",open:""},services:[],deps:[],database:{dbName:"",dbVersionId:"",h2compId:"",deployVersionId:"",createdBy:"",gmtCreate:"",modifiedBy:"",gmtModified:""},dataModel:[],compConfig:{preVersionID:"0",profileType:"online",desc:"",isRunning:1,createdBy:"",gmtCreate:"",modifiedBy:"",gmtModeified:""},modelConfigs:[],newService:{serviceId:"",serviceName:"",serviceType:"",servicePath:"",serviceParam:"",serviceOpen:!1,serviceSecurity:!1,serviceMethod:"",serviceKey:"",serviceReturnvaluetype:"",serviceFormat:""},newDep:{id:"",version:""},publish:!1,showAddService:!1,isDr:!1}},created:function(){var e=this,t=x(location.href.split("?")[1]);this.id=t.id||"",this.version=t.version||"",this.isDr=!!t.isDr,this.$request.post("/api/cloudplatform/selectDrBSCInfo-Main").set("contentType","application/json").send({id:this.id,version:this.version}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.baseInfor=s.body}),this.$request.post("/api/cloudplatform/selectBSCInfo-Service").set("contentType","application/json").send({id:this.id,version:this.version}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.services=s.body}),this.$request.post("/api/cloudplatform/selectBSCInfo-Rel").set("contentType","application/json").send({id:this.id,version:this.version}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.deps=s.body}),this.$request.post("/api/cloudplatform/selectBSCInfo-Ds").set("contentType","application/json").send({id:this.id,version:this.version}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.database=s.body}),this.$request.post("/api/cloudplatform/selectDrBSCDm").set("contentType","application/json").send({id:this.id,version:this.version}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.dataModel=s.body})},mounted:function(){},methods:{uuid:D,formatDate:$,formatTime:C,submit:function(){var e=this;this.publish=!0,this.$request.post("/api/cloudplatform/deployDmIdAndVersion").set("contentType","application/json").send({id:this.id,version:this.version}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.modelConfigs=s.body})},saveDeploy:function(){var e=this;this.$request.post("/api/cloudplatform/deployBSCandDm").set("contentType","application/json").send(d()({},this.compConfig,{dmReleaseEntity:this.modelConfigs,bscID:this.id,bscVersion:this.version})).end(function(t){t?e.$message({type:"error",message:t.response.text}):e.$message("组件发布成功！")})},deleteService:function(e){this.services.splice(e,1)},saveDesc:function(){var e=this;this.$request.post("/api/cloudplatform/submitDrBSCInfo-Desc").set("contentType","application/json").send({id:this.id,version:this.version,url:this.baseInfor.url,desc:this.baseInfor.description}).end(function(t){t?e.$message({type:"error",message:t.response.text}):e.$message("保存成功！")})},saveService:function(){var e=this,t=[].concat(Ie()(this.services));0===this.services.length&&t.push(d()({},this.newService,{bscID:this.id,bscVersion:this.version})),this.$request.post("/api/cloudplatform/submitDrBSCInfo-Service").set("contentType","application/json").send(t).end(function(t){t?e.$message({type:"error",message:t.response.text}):e.$message("保存成功！")})},saveRel:function(){var e=this,t=[].concat(Ie()(this.deps));t.unshift({id:this.id,version:this.version}),this.$request.post("/api/cloudplatform/submitDrBSCInfo-Rel").set("contentType","application/json").send(t).end(function(t){t?e.$message({type:"error",message:t.response.text}):e.$message("保存成功！")})},saveDs:function(){var e=this;this.$request.post("/api/cloudplatform/submitDrBSCInfo-Ds").set("contentType","application/json").send(this.database).end(function(t){t?e.$message({type:"error",message:t.response.text}):e.$message("保存成功！")})},handleAddService:function(){var e=D();this.services.push(d()({},this.newService,{serviceId:e,bscID:this.id,bscVersion:this.version}))},addDep:function(){this.deps.push(d()({},this.newDep))},deleteDep:function(e){this.deps.splice(e,1)}}},$e={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"detail"},[e.publish?s("div",{staticClass:"content-wrapper publish-content-wrapper"},[s("el-collapse",{model:{value:e.publishActiveNames,callback:function(t){e.publishActiveNames=t},expression:"publishActiveNames"}},[s("el-collapse-item",{attrs:{name:"1"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("组件配置")])]),e._v(" "),s("el-form",{staticClass:"comp-config",attrs:{model:e.compConfig}},[s("el-form-item",{attrs:{label:"环境类型"}},[s("el-radio-group",{model:{value:e.compConfig.profileType,callback:function(t){e.$set(e.compConfig,"profileType",t)},expression:"compConfig.profileType"}},[s("el-radio",{attrs:{label:"online"}},[e._v("线上")]),e._v(" "),s("el-radio",{attrs:{label:"dev"}},[e._v("开发")]),e._v(" "),s("el-radio",{attrs:{label:"test"}},[e._v("测试")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"是否为当前运行版本"}},[s("el-radio-group",{model:{value:e.compConfig.isRunning,callback:function(t){e.$set(e.compConfig,"isRunning",t)},expression:"compConfig.isRunning"}},[s("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),s("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"发布描述信息"}},[s("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.compConfig.desc,callback:function(t){e.$set(e.compConfig,"desc",t)},expression:"compConfig.desc"}})],1)],1)],2),e._v(" "),s("el-collapse-item",{attrs:{name:"2"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("模型配置")])]),e._v(" "),e._l(e.modelConfigs,function(t){return s("el-form",{key:t.dmID,staticClass:"model-config",attrs:{model:t,inline:!0}},[s("el-form-item",{attrs:{label:"模型ID"}},[s("span",[e._v(e._s(t.dmID))])]),e._v(" "),s("el-form-item",{attrs:{label:"模型版本"}},[s("span",[e._v(e._s(t.dmVersion))])]),e._v(" "),s("el-form-item",{attrs:{label:"环境类型"}},[s("el-radio-group",{model:{value:t.profileType,callback:function(s){e.$set(t,"profileType",s)},expression:"modelConfig.profileType"}},[s("el-radio",{attrs:{label:"online"}},[e._v("线上")]),e._v(" "),s("el-radio",{attrs:{label:"dev"}},[e._v("开发")]),e._v(" "),s("el-radio",{attrs:{label:"test"}},[e._v("测试")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"是否为当前运行版本"}},[s("el-radio-group",{model:{value:t.isRunning,callback:function(s){e.$set(t,"isRunning",s)},expression:"modelConfig.isRunning"}},[s("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),s("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"发布信息描述"}},[s("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.desc,callback:function(s){e.$set(t,"desc",s)},expression:"modelConfig.desc"}})],1)],1)})],2)],1)],1):s("div",{staticClass:"content-wrapper"},[s("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[s("el-collapse-item",{attrs:{name:"1"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("基本信息")])]),e._v(" "),s("el-form",{staticClass:"base-infor",attrs:{model:e.baseInfor,"label-width":".9rem",inline:!0}},[s("el-form-item",{attrs:{label:"组件ID："}},[s("span",[e._v(e._s(e.baseInfor.bscID))])]),e._v(" "),s("el-form-item",{attrs:{label:"组件名称："}},[s("span",[e._v(e._s(e.baseInfor.bscName))])]),e._v(" "),s("el-form-item",{attrs:{label:"组件版本："}},[s("el-input",{model:{value:e.baseInfor.version,callback:function(t){e.$set(e.baseInfor,"version",t)},expression:"baseInfor.version"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"创建人："}},[s("span",[e._v(e._s(e.baseInfor.developer))])]),e._v(" "),s("el-form-item",{attrs:{label:"创建时间："}},[s("span",[e._v(e._s(e.baseInfor.bscTime))])])],1)],2),e._v(" "),s("el-collapse-item",{attrs:{name:"2"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("描述信息")])]),e._v(" "),s("div",{staticClass:"interface"},[s("span",{staticClass:"label"},[e._v("组件统一访问接口：")]),e._v(" "),e.isDr?s("el-input",{attrs:{placeholder:"输入组件统一访问接口"},model:{value:e.baseInfor.url,callback:function(t){e.$set(e.baseInfor,"url",t)},expression:"baseInfor.url"}}):s("span",{staticClass:"baseInfor.url"})],1),e._v(" "),s("div",{staticClass:"interface"},[s("span",{staticClass:"label"},[e._v("组件描述：")]),e._v(" "),e.isDr?s("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入内容"},model:{value:e.baseInfor.description,callback:function(t){e.$set(e.baseInfor,"description",t)},expression:"baseInfor.description"}}):s("span",[e._v(e._s(e.baseInfor.description))])],1),e._v(" "),e.isDr?s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.saveDesc}},[e._v("保存配置")]):e._e()],2),e._v(" "),s("el-collapse-item",{attrs:{name:"3"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("服务信息")])]),e._v(" "),s("div",{staticClass:"service-wrapper"},[e.services.length?e._e():s("span",[e._v("暂无数据~")]),e._v(" "),e._l(e.services,function(t,a){return s("div",{key:t.id,staticClass:"service-content"},[s("el-form",{staticClass:"service-data",attrs:{model:t,inline:!0}},[s("el-form-item",{attrs:{label:"服务ID"}},[s("span",[e._v(e._s(t.serviceId))])]),e._v(" "),s("el-form-item",{attrs:{label:"服务名称"}},[e.isDr?s("el-input",{attrs:{size:"mini"},model:{value:t.serviceName,callback:function(s){e.$set(t,"serviceName",s)},expression:"service.serviceName"}}):s("span",[e._v(e._s(t.serviceName))])],1),e._v(" "),s("el-form-item",{attrs:{label:"服务类型"}},[e.isDr?s("el-input",{attrs:{size:"mini"},model:{value:t.serviceType,callback:function(s){e.$set(t,"serviceType",s)},expression:"service.serviceType"}}):s("span",[e._v(e._s(t.serviceType))])],1),e._v(" "),s("el-form-item",{attrs:{label:"服务访问路径"}},[e.isDr?s("el-input",{attrs:{size:"mini"},model:{value:t.servicePath,callback:function(s){e.$set(t,"servicePath",s)},expression:"service.servicePath"}}):s("span",[e._v(e._s(t.servicePath))])],1),e._v(" "),s("el-form-item",{attrs:{label:"服务访问参数"}},[e.isDr?s("el-input",{attrs:{size:"mini"},model:{value:t.serviceParam,callback:function(s){e.$set(t,"serviceParam",s)},expression:"service.serviceParam"}}):s("span",[e._v(e._s(t.serviceParam))])],1),e._v(" "),s("el-form-item",{attrs:{label:"是否对外开放"}},[e.isDr?s("el-checkbox",{model:{value:t.serviceOpen,callback:function(s){e.$set(t,"serviceOpen",s)},expression:"service.serviceOpen"}}):s("span",[e._v(e._s(t.serviceOpen))])],1),e._v(" "),s("el-form-item",{attrs:{label:"是否加密"}},[e.isDr?s("el-checkbox",{model:{value:t.serviceSecurity,callback:function(s){e.$set(t,"serviceSecurity",s)},expression:"service.serviceSecurity"}}):s("span",[e._v(e._s(t.serviceSecurity))])],1),e._v(" "),s("el-form-item",{attrs:{label:"加密方法"}},[e.isDr?s("el-input",{attrs:{size:"mini"},model:{value:t.serviceMethod,callback:function(s){e.$set(t,"serviceMethod",s)},expression:"service.serviceMethod"}}):s("span",[e._v(e._s(t.serviceMethod))])],1),e._v(" "),s("el-form-item",{attrs:{label:"密钥"}},[e.isDr?s("el-input",{attrs:{size:"mini"},model:{value:t.serviceKey,callback:function(s){e.$set(t,"serviceKey",s)},expression:"service.serviceKey"}}):s("span",[e._v(e._s(t.serviceKey))])],1),e._v(" "),s("el-form-item",{attrs:{label:"返回数据格式类型"}},[e.isDr?s("el-input",{attrs:{size:"mini"},model:{value:t.serviceReturnvaluetype,callback:function(s){e.$set(t,"serviceReturnvaluetype",s)},expression:"service.serviceReturnvaluetype"}}):s("span",[e._v(e._s(t.serviceReturnvaluetype))])],1),e._v(" "),s("el-form-item",{attrs:{label:"返回数据格式："}},[e.isDr?s("el-input",{attrs:{size:"mini"},model:{value:t.serviceFormat,callback:function(s){e.$set(t,"serviceFormat",s)},expression:"service.serviceFormat"}}):s("span",[e._v(e._s(t.serviceFormat))])],1)],1),e._v(" "),e.isDr?s("div",{staticClass:"service-delete operate",on:{click:function(t){e.deleteService(a)}}},[e._v("\n                            删除\n                        ")]):e._e()],1)}),e._v(" "),e.isDr?s("div",{staticStyle:{"text-align":"left"}},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddService}},[e._v("添加")])],1):e._e(),e._v(" "),e.isDr?s("el-button",{attrs:{type:"primary"},on:{click:e.saveService}},[e._v("保存配置")]):e._e()],2)],2),e._v(" "),s("el-collapse-item",{attrs:{name:"4"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("资源配置信息")])])],2),e._v(" "),s("el-collapse-item",{attrs:{name:"5"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("组件依赖")])]),e._v(" "),s("div",{staticClass:"comp-dependience"},[e.deps.length?e._e():s("span",[e._v("暂无数据~")]),e._v(" "),e._l(e.deps,function(t,a){return s("div",{key:a,staticClass:"dep-wrapper"},[s("el-form",{staticClass:"dep-content",attrs:{model:t,"label-width":".8rem",inline:!0}},[s("el-form-item",{attrs:{label:"组件ID"}},[e.isDr?s("el-input",{model:{value:t.id,callback:function(s){e.$set(t,"id",s)},expression:"dep.id"}}):s("span",[e._v(e._s(t.id))])],1),e._v(" "),s("el-form-item",{attrs:{label:"组件版本"}},[e.isDr?s("el-input",{model:{value:t.version,callback:function(s){e.$set(t,"version",s)},expression:"dep.version"}}):s("span",[e._v(e._s(t.version))])],1)],1),e._v(" "),e.isDr?s("div",{staticClass:"dep-delete operate",on:{click:function(t){e.deleteDep(a)}}},[e._v("\n                            删除\n                        ")]):e._e()],1)}),e._v(" "),e.isDr?s("div",{staticClass:"add-wrapper"},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addDep}},[e._v("添加")])],1):e._e(),e._v(" "),e.isDr?s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.saveRel}},[e._v("保存配置")]):e._e()],2)],2),e._v(" "),s("el-collapse-item",{attrs:{name:"6"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("组件数据源")])]),e._v(" "),s("div",{staticClass:"database-source"},[s("el-form",{attrs:{model:e.database,"label-width":"1rem",inline:!0}},[s("el-form-item",{attrs:{label:"数据库名称"}},[e.isDr?s("el-input",{attrs:{placeholder:"输入数据库名称"},model:{value:e.database.dbName,callback:function(t){e.$set(e.database,"dbName",t)},expression:"database.dbName"}}):s("span",[e._v(e._s(e.database.dbName))])],1),e._v(" "),s("el-form-item",{attrs:{label:"数据库版本"}},[e.isDr?s("el-input",{attrs:{placeholder:"输入数据库版本"},model:{value:e.database.dbVersionId,callback:function(t){e.$set(e.database,"dbVersionId",t)},expression:"database.dbVersionId"}}):s("span",[e._v(e._s(e.database.dbVersionId))])],1)],1),e._v(" "),e.isDr?s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.saveDs}},[e._v("保存配置")]):e._e()],1)],2),e._v(" "),s("el-collapse-item",{attrs:{name:"7"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("数据模型")])]),e._v(" "),s("div",{staticClass:"data-model"},[s("data-model-infor",{attrs:{dataModelList:e.dataModel}})],1)],2)],1)],1),e._v(" "),s("div",{staticClass:"content-footer"},[e.publish?s("el-button",{attrs:{type:"primary"},on:{click:e.saveDeploy}},[e._v("确认发布")]):s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("发布")])],1)])},staticRenderFns:[]};var xe=s("VU/8")(Ce,$e,!1,function(e){s("Ngnk")},null,null).exports,De={components:{ComponentInfor:w},data:function(){return{prodTypeEnum:M,pdtStatusEnum:O,prodType:N,prodStatus:L,activeNames:["1"],baseInfor:{pdtId:"",pdtName:"",pdtType:"01",pdtIcon:"",pdtVersion:"",bizServiceIDs:"",pdtStatus:"0",busoprTeamId:"",pdtDesc:"",pdtFunc:"",useCase:"",appCase:"",pdtMan:"",pdtQuestion:"",serviceProtocol:"",createdBy:"",createdTime:"",lastModifiedBy:"",lastModifiedTime:""},compList:[],editor:!1,isMOr:!1}},methods:{savePdt:function(){var e=this;this.$request.post("/api/cloudplatform/MOrpdtEdit-baseInfo").set("contentType","application/json").send(this.baseInfor).end(function(t){t&&e.$message({type:"error",message:t.response.text})});var t=this.compList.map(function(e){return{id:e.bscID,version:e.version}});t.unshift({id:this.baseInfor.pdtId,version:this.baseInfor.pdtVersion}),this.$request.post("/api/cloudplatform/MOrpdtEdit-selectBSCs").set("contentType","application/json").send(t).end(function(t){t&&e.$message({type:"error",message:t.response.text})}),this.$message("保存成功！")}},created:function(){var e=this,t=x(location.href.split("?")[1]);if(this.editor=!!t.editor,this.isMOr=!!t.isMOr,t.id)this.baseInfor.pdtId=t.id,this.baseInfor.pdtVersion=t.version,this.$request.post("/api/cloudplatform/selectpdtInfo-baseInfo").set("contentType","application/json").send({id:t.id,version:t.version}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.baseInfor=s.body}),this.$request.post("/api/cloudplatform/selectpdtInfo-BSCs").set("contentType","application/json").send({id:t.id,version:t.version}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.compList=s.body||[]});else{var s="P"+D();this.baseInfor.pdtId=s,this.$request.get("/api/cloudplatform/getPdtSelectBSCs").end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.compList=s.body||[]})}}},Se={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"prod-detail"},[s("div",{staticClass:"content-wrapper"},[s("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[s("el-collapse-item",{attrs:{name:"1"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("基本信息")])]),e._v(" "),s("el-form",{staticClass:"base-infor",attrs:{model:e.baseInfor,"label-width":"1rem"}},[s("el-form-item",{attrs:{label:"产品ID"}},[s("span",[e._v(e._s(e.baseInfor.pdtId))])]),e._v(" "),s("el-form-item",{attrs:{label:"产品名称"}},[e.isMOr&&e.editor?s("el-input",{attrs:{placeholder:"输入产品名称"},model:{value:e.baseInfor.pdtName,callback:function(t){e.$set(e.baseInfor,"pdtName",t)},expression:"baseInfor.pdtName"}}):s("span",[e._v(e._s(e.baseInfor.pdtName))])],1),e._v(" "),s("el-form-item",{attrs:{label:"产品类别"}},[e.isMOr&&e.editor?s("el-radio-group",{model:{value:e.baseInfor.pdtType,callback:function(t){e.$set(e.baseInfor,"pdtType",t)},expression:"baseInfor.pdtType"}},e._l(e.prodTypeEnum,function(t){return s("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})):s("span",[e._v(e._s(e.prodType[e.baseInfor.pdtType]))])],1),e._v(" "),s("el-form-item",{attrs:{label:"产品LOGO"}},[e.isMOr&&e.editor?s("el-input",{attrs:{placeholder:"输入产品LOGO"},model:{value:e.baseInfor.pdtIcon,callback:function(t){e.$set(e.baseInfor,"pdtIcon",t)},expression:"baseInfor.pdtIcon"}}):s("span",[e._v(e._s(e.baseInfor.pdtIcon))])],1),e._v(" "),s("el-form-item",{attrs:{label:"产品版本号"}},[e.isMOr&&e.editor?s("el-input",{attrs:{placeholder:"输入产品版本号"},model:{value:e.baseInfor.pdtVersion,callback:function(t){e.$set(e.baseInfor,"pdtVersion",t)},expression:"baseInfor.pdtVersion"}}):s("span",[e._v(e._s(e.baseInfor.pdtVersion))])],1),e._v(" "),s("el-form-item",{attrs:{label:"产品状态"}},[e.isMOr&&e.editor?s("el-radio-group",{model:{value:e.baseInfor.pdtStatus,callback:function(t){e.$set(e.baseInfor,"pdtStatus",t)},expression:"baseInfor.pdtStatus"}},e._l(e.pdtStatusEnum,function(t){return s("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})):s("span",[e._v(e._s(e.prodStatus[e.baseInfor.pdtStatus]))])],1),e._v(" "),s("el-form-item",{attrs:{label:"运营团队ID"}},[e.isMOr&&e.editor?s("el-input",{attrs:{placeholder:"输入运营团队ID"},model:{value:e.baseInfor.busoprTeamId,callback:function(t){e.$set(e.baseInfor,"busoprTeamId",t)},expression:"baseInfor.busoprTeamId"}}):s("span",[e._v(e._s(e.baseInfor.busoprTeamId))])],1),e._v(" "),s("el-form-item",{attrs:{label:"产品概述"}},[e.isMOr&&e.editor?s("el-input",{attrs:{placeholder:"输入产品概述"},model:{value:e.baseInfor.pdtDesc,callback:function(t){e.$set(e.baseInfor,"pdtDesc",t)},expression:"baseInfor.pdtDesc"}}):s("span",[e._v(e._s(e.baseInfor.pdtDesc))])],1),e._v(" "),s("el-form-item",{attrs:{label:"产品功能"}},[e.isMOr&&e.editor?s("el-input",{attrs:{placeholder:"输入产品功能"},model:{value:e.baseInfor.pdtFunc,callback:function(t){e.$set(e.baseInfor,"pdtFunc",t)},expression:"baseInfor.pdtFunc"}}):s("span",[e._v(e._s(e.baseInfor.pdtFunc))])],1),e._v(" "),s("el-form-item",{attrs:{label:"使用场景"}},[e.isMOr&&e.editor?s("el-input",{attrs:{placeholder:"输入使用场景"},model:{value:e.baseInfor.useCase,callback:function(t){e.$set(e.baseInfor,"useCase",t)},expression:"baseInfor.useCase"}}):s("span",[e._v(e._s(e.baseInfor.useCase))])],1),e._v(" "),s("el-form-item",{attrs:{label:"应用案例"}},[e.isMOr&&e.editor?s("el-input",{attrs:{placeholder:"输入应用案例"},model:{value:e.baseInfor.appCase,callback:function(t){e.$set(e.baseInfor,"appCase",t)},expression:"baseInfor.appCase"}}):s("span",[e._v(e._s(e.baseInfor.appCase))])],1),e._v(" "),s("el-form-item",{attrs:{label:"产品手册"}},[e.isMOr&&e.editor?s("el-input",{attrs:{placeholder:"输入产品手册"},model:{value:e.baseInfor.pdtMan,callback:function(t){e.$set(e.baseInfor,"pdtMan",t)},expression:"baseInfor.pdtMan"}}):s("span",[e._v(e._s(e.baseInfor.pdtMan))])],1),e._v(" "),s("el-form-item",{attrs:{label:"常见问题"}},[e.isMOr&&e.editor?s("el-input",{attrs:{placeholder:"输入常见问题"},model:{value:e.baseInfor.pdtQuestion,callback:function(t){e.$set(e.baseInfor,"pdtQuestion",t)},expression:"baseInfor.pdtQuestion"}}):s("span",[e._v(e._s(e.baseInfor.pdtQuestion))])],1),e._v(" "),s("el-form-item",{attrs:{label:"服务协议"}},[e.isMOr&&e.editor?s("el-input",{attrs:{placeholder:"输入服务协议"},model:{value:e.baseInfor.serviceProtocol,callback:function(t){e.$set(e.baseInfor,"serviceProtocol",t)},expression:"baseInfor.serviceProtocol"}}):s("span",[e._v(e._s(e.baseInfor.serviceProtocol))])],1),e._v(" "),s("el-form-item",{attrs:{label:"创建人"}},[e.isMOr&&e.editor?s("el-input",{attrs:{placeholder:"输入创建人"},model:{value:e.baseInfor.createdBy,callback:function(t){e.$set(e.baseInfor,"createdBy",t)},expression:"baseInfor.createdBy"}}):s("span",[e._v(e._s(e.baseInfor.createdBy))])],1)],1)],2),e._v(" "),s("el-collapse-item",{attrs:{name:"2"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("组件信息")])]),e._v(" "),s("div",{staticClass:"comp-wrapper"},[s("component-infor",{attrs:{infor:e.compList}})],1)],2)],1),e._v(" "),s("div",{staticClass:"content-footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.savePdt}},[e._v("保存")])],1)],1)])},staticRenderFns:[]};var ke=s("VU/8")(De,Se,!1,function(e){s("f+U5")},null,null).exports,we={props:{slaList:{type:Array,required:!0},isGr:{type:Boolean,default:!1},sla:{type:Number},isAccountDetail:{type:Boolean,default:!1}},data:function(){return{currentRow:""}},methods:{goForDetail:function(e,t){this.$router.push()},deleteSla:function(e){this.$emit("deleteSla",this.sla,e)}}},Te={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sla-list-infor"},[s("el-table",{attrs:{data:e.slaList,border:""},on:{"row-dbclick":e.goForDetail}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"50%"}}),e._v(" "),s("el-table-column",{attrs:{label:"SLA编码"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isGr?s("el-input",{attrs:{placeholder:"输入SLA编码"},model:{value:t.row.slaCoding,callback:function(s){e.$set(t.row,"slaCoding",s)},expression:"scope.row.slaCoding"}}):s("span",[e._v(e._s(t.row.slaCoding))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"SLA内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isGr?s("el-input",{attrs:{placeholder:"输入SLA内容"},model:{value:t.row.slaContent,callback:function(s){e.$set(t.row,"slaContent",s)},expression:"scope.row.slaContent"}}):s("span",[e._v(e._s(t.row.slaContent))])]}}])}),e._v(" "),e.isGr?e._e():s("el-table-column",{attrs:{label:"价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isAccountDetail?s("span",[e._v(e._s(t.row.slaPrice))]):s("el-input",{attrs:{placeholder:"输入价格"},model:{value:t.row.slaPrice,callback:function(s){e.$set(t.row,"slaPrice",s)},expression:"scope.row.slaPrice"}})]}}])}),e._v(" "),e.isGr&&!e.isAccountDetail?s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text"},on:{click:function(s){e.deleteSla(t.$index)}}},[e._v("删除")])]}}])}):e._e()],1)],1)},staticRenderFns:[]};var Me={components:{ProdListInfor:U,SlaListInfor:s("VU/8")(we,Te,!1,function(e){s("jYqQ")},null,null).exports},data:function(){return{prodTypeEnum:M,orderdStatus:P,activeNames:["1"],baseInfor:{orderId:"",ogId:"",createdBy:"",gmtCreate:"",modifiedBy:"",gmtModified:"",checkPerson:"",gmtCheck:"",auditFlag:"0",checkComment:""},prodList:[],slas:[{prodId:"",prodVersion:"",slaList:[]}],approveInfor:{approver:"",approveDesc:"",approveDate:""},acountMoney:0,isGr:!1,isMOr:!1,isAccountDetail:!1}},created:function(){var e=this,t=x(location.href.split("?")[1]);if(this.isAccountDetail=!!t.isAccountDetail,this.isMOr=!!t.isMOr,t.isGr){var s="O"+D();this.isGr=!0,this.baseInfor.orderId=s,this.$request.post("/api/cloudplatform/getGroupID").set("contentType","application/json").send({account:this.$store.state.userInfor.account}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.baseInfor.ogId=s.text}),this.$request.get("/api/cloudplatform/getOrderSelectPdts").end(function(t,s){t?e.$message({type:"error",message:t.response.text}):(e.prodList=s.body,e.slas=s.body.map(function(e){return{prodId:e.pdtId,prodVersion:e.pdtVersion,slaList:[]}}))})}else t.id&&(this.baseInfor.orderId=t.id,this.$request.post("/api/cloudplatform/selectorderInfo-base").set("contentType","application/json").send({orderId:this.baseInfor.orderId}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):(e.baseInfor=s.body,e.approveInfor.approver=s.body.checkPerson,e.approveInfor.approveDesc=s.body.checkComment,e.approveInfor.approveDate=s.body.gmtCheck)}),this.$request.post("/api/cloudplatform/selectorderInfo-pdt").set("contentType","application/json").send({orderId:this.baseInfor.orderId}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.prodList=s.body||[]}),this.$request.post("/api/cloudplatform/selectorderInfo-sla").set("contentType","application/json").send({orderId:this.baseInfor.orderId}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.slas=s.body||[]}))},mounted:function(){var e=0;this.isAccountDetail&&(this.prodList.forEach(function(t){e+=t.pdtPrice}),this.slas.forEach(function(t){t.slaList.forEach(function(t){e+=t.slaPrice})}),this.acountMoney=e)},methods:{deletePro:function(e){this.prodList.splice(e,1)},deleteSla:function(e,t){this.slas[e].slaList.splice(t,1)},addSla:function(e){e.slaList.push({slaCoding:"",slaContent:""})},submitOrder:function(e){var t=this,s=this.baseInfor;1===e&&(s.auditFlag="2",s.checkPerson=this.approveInfor.approver,s.checkComment=this.approveInfor.approveDesc,s.gmtCheck=this.approveInfor.approveDate),this.$request.post("/api/cloudplatform/submitOrder-main").set("contentType","application/json").send(s).end(function(e){e&&t.$message({type:"error",message:e.response.text})});var a=Date.now(),r=this.prodList.map(function(e){return{orderId:t.baseInfor.orderId,pdtId:e.pdtId,pdtVersion:e.pdtVersion,pdtPrice:e.pdtPrice,createdBy:t.baseInfor.createdBy,gmtCreate:$(a)+" "+C(a),modifiedBy:"",gmtModified:"1000-01-01 00:00:00"}});this.$request.post("/api/cloudplatform/submitOrder-pdt").set("contentType","application/json").send(r).end(function(e){e&&t.$message({type:"error",message:e.response.text})});var o=[];this.$refs.slalistinfor.forEach(function(e){e.$emit("submit")}),this.slas.forEach(function(e){e.slaList.forEach(function(s){o.push({orderId:t.baseInfor.orderId,pdtId:e.prodId,pdtVersion:e.prodVersion,slaCode:s.slaCoding,slaContent:s.slaContent,slaPrice:s.slaPrice,createdBy:t.baseInfor.createdBy,gmtCreate:$(a)+" "+C(a),modifiedBy:"",gmtModified:"1000-01-01 00:00:00"})})}),this.$request.post("/api/cloudplatform/submitOrder-sla").set("contentType","application/json").send(o).end(function(e){e&&t.$message({type:"error",message:e.response.text})})},deployOrder:function(){this.submitOrder(1),this.$router.push("/iscdetail?og="+this.baseInfor.ogId+"&oid="+this.baseInfor.orderId)}}},Oe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-detail"},[s("div",{staticClass:"content-wrapper"},[s("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[s("el-collapse-item",{attrs:{name:"1"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("基本信息")])]),e._v(" "),s("el-form",{staticClass:"base-infor",attrs:{model:e.baseInfor,"label-width":"1rem",inline:!0}},[s("el-form-item",{attrs:{label:"订单ID"}},[s("span",[e._v(e._s(e.baseInfor.orderId))])]),e._v(" "),s("el-form-item",{attrs:{label:"组织ID"}},[s("span",[e._v(e._s(e.baseInfor.ogId))])]),e._v(" "),s("el-form-item",{attrs:{label:"创建人"}},[e.isGr?s("el-input",{attrs:{placeholder:"输入创建人"},model:{value:e.baseInfor.createdBy,callback:function(t){e.$set(e.baseInfor,"createdBy",t)},expression:"baseInfor.createdBy"}}):s("span",[e._v(e._s(e.baseInfor.createdBy))])],1),e._v(" "),s("el-form-item",{attrs:{label:"订单状态"}},[s("span",[e._v(e._s(e.orderdStatus[e.baseInfor.auditFlag]))])])],1)],2),e._v(" "),s("el-collapse-item",{attrs:{name:"2"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("订购明细")])]),e._v(" "),s("div",{staticClass:"prod-wrapper"},[s("prod-list-infor",{attrs:{prodList:e.prodList,isOrder:!0,isAccountDetail:e.isAccountDetail,isGr:e.isGr},on:{deletePro:e.deletePro}})],1)],2),e._v(" "),s("el-collapse-item",{attrs:{name:"3"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("质量需求")])]),e._v(" "),e._l(e.slas,function(t,a){return s("div",{key:a,staticClass:"sla-wrapper"},[s("div",{staticClass:"sla-infor"},[s("span",[e._v("产品ID： "+e._s(t.prodId))]),e._v(" "),s("span",[e._v("产品版本： "+e._s(t.prodVersion))])]),e._v(" "),s("sla-list-infor",{ref:"slalistinfor",refInFor:!0,staticClass:"sla-list-infor",attrs:{slaList:t.slaList,isGr:e.isGr,sla:a,isAccountDetail:e.isAccountDetail},on:{deleteSla:e.deleteSla}}),e._v(" "),s("div",{staticClass:"add-wrapper"},[e.isGr?s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){e.addSla(t)}}},[e._v("添加")]):e._e()],1)],1)})],2),e._v(" "),s("el-collapse-item",{attrs:{name:"4"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("审核信息")])]),e._v(" "),s("div",{staticClass:"approve-wrapper"},[s("el-form",{staticClass:"approve-infor",attrs:{model:e.approveInfor,"label-width":"1rem"}},[s("el-form-item",{attrs:{label:"审核人"}},[e.isMOr?s("el-input",{attrs:{placeholder:"输入审核人"},model:{value:e.approveInfor.approver,callback:function(t){e.$set(e.approveInfor,"approver",t)},expression:"approveInfor.approver"}}):s("span",[e._v(e._s(e.approveInfor.approver))])],1),e._v(" "),s("el-form-item",{attrs:{label:"审核意见"}},[e.isMOr?s("el-input",{attrs:{type:"textarea",placeholder:"输入审核意见",autosize:""},model:{value:e.approveInfor.approveDesc,callback:function(t){e.$set(e.approveInfor,"approveDesc",t)},expression:"approveInfor.approveDesc"}}):s("span",[e._v(e._s(e.approveInfor.approveDesc))])],1),e._v(" "),s("el-form-item",{attrs:{label:"审核日期"}},[s("span",[e._v(e._s(e.approveInfor.approveDate))])])],1)],1)],2)],1),e._v(" "),s("div",{staticClass:"content-footer"},[e.isAccountDetail?s("div",{staticClass:"acount"},[s("span",{staticClass:"price"},[e._v("合计："+e._s(e.acountMoney))]),e._v(" "),s("el-button",{attrs:{type:"primary"}},[e._v("结算")])],1):e._e(),e._v(" "),e.isGr?s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitOrder(0)}}},[e._v("提交")]):e._e(),e._v(" "),e.isGr||e.isAccountDetail?e._e():s("el-button",{attrs:{type:"primary"},on:{click:e.deployOrder}},[e._v("部署iSC")])],1)],1)])},staticRenderFns:[]};var Ne=s("VU/8")(Me,Oe,!1,function(e){s("eZUS")},null,null).exports,Le={components:{ComponentInfor:w},data:function(){return{activeNames:["1"],baseInfor:{iSCId:"",ogId:"",iSCName:"",iSCType:"",iSCUrl:"",createdBy:"",gmtCreate:"",modifiedBy:"",gmtModified:""},compList:[],databaseConfig:{host:"",port:"",database:"",user:"",password:"",url:"",driver:"",iSCid:""},pointConfigs:[],isMOr:!1}},created:function(){var e=this,t=x(location.href.split("?")[1]);if(this.isMOr=!!t.isMOr,t.id)this.baseInfor.iSCId=t.id,this.baseInfor.ogId=t.og,this.$request.post("/api/cloudplatform/selectiSCInfo-main").set("contentType","application/json").send({iSCID:t.id}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.baseInfor=s.body}),this.$request.post("/api/cloudplatform/selectiSCInfo-BSCs").set("contentType","application/json").send({iSCID:t.id}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.compList=s.body}),this.$request.post("/api/cloudplatform/selectMOriSCInfo-DB").set("contentType","application/json").send({iSCID:t.id}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.databaseConfig=s.body}),this.$request.post("/api/cloudplatform/selectMOriSCInfo-SN").set("contentType","application/json").send({iSCID:t.id}).end(function(t,s){if(t)e.$message({type:"error",message:t.response.text});else{for(var a=[],r=0;r<s.body.length;r+=3)a.push({pointIp:s.body[r],pointPort:s.body[r+1],pointAddress:s.body[r+2]});e.pointConfigs=a}});else{var s="iSC"+D();this.baseInfor.iSCId=s,this.baseInfor.ogId=t.og,this.$request.post("/api/cloudplatform/deployiSCInfo-BSCs").set("contentType","application/json").send({orderId:t.oid}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.compList=s.body||[]})}},methods:{addPoint:function(){this.pointConfigs.push({pointIp:"",pointPort:"",pointAddress:""})},deletePoint:function(e){this.pointConfigs.splice(e,1)},deployCommand:function(e){var t=this;this.$request.post("/api/cloudplatform/deploySaveiSCInfo-main").set("contentType","application/json").send(this.baseInfor).end(function(e){e&&t.$message({type:"error",message:e.response.text})});var s=this.databaseConfig;s.iSCid=this.baseInfor.iSCId,this.$request.post("/api/cloudplatform/deploySaveiSCInfo-DB").set("contentType","application/json").send(s).end(function(e){e&&t.$message({type:"error",message:e.response.text})});var a=[];a.push(this.baseInfor.iSCId),this.pointConfigs.forEach(function(e){a.push(e.pointIp),a.push(e.pointPort),a.push(e.pointAddress)}),this.$request.post("/api/cloudplatform/deploySaveiSCInfo-SN").set("contentType","application/json").send(a).end(function(e){e&&t.$message({type:"error",message:e.response.text})});var r=this.compList.map(function(e){return{id:e.bscID,version:e.version}});r.unshift({id:this.baseInfor.iSCId,version:""}),this.$request.post("/api/cloudplatform/deploySaveiSCInfo-BSCs").set("contentType","application/json").send(r).end(function(e){e&&t.$message({type:"error",message:e.response.text})})}}},Pe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"isc-detail"},[s("div",{staticClass:"content-wrapper"},[s("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[s("el-collapse-item",{attrs:{name:"1"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("基本信息")])]),e._v(" "),s("el-form",{staticClass:"base-infor",attrs:{model:e.baseInfor,"label-width":"1.2rem",inline:!0}},[s("el-form-item",{attrs:{label:"iSC ID："}},[s("span",[e._v(e._s(e.baseInfor.iSCId))])]),e._v(" "),s("el-form-item",{attrs:{label:"组织ID："}},[s("span",[e._v(e._s(e.baseInfor.ogId))])]),e._v(" "),s("el-form-item",{attrs:{label:"服务中心名称："}},[s("el-input",{attrs:{placeholder:"输入服务中心名称"},model:{value:e.baseInfor.iSCName,callback:function(t){e.$set(e.baseInfor,"iSCName",t)},expression:"baseInfor.iSCName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"服务中心类型："}},[s("el-input",{attrs:{placeholder:"输入服务中心类型"},model:{value:e.baseInfor.iSCType,callback:function(t){e.$set(e.baseInfor,"iSCType",t)},expression:"baseInfor.iSCType"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"服务访问地址："}},[s("el-input",{attrs:{placeholder:"输入服务访问地址"},model:{value:e.baseInfor.iSCUrl,callback:function(t){e.$set(e.baseInfor,"iSCUrl",t)},expression:"baseInfor.iSCUrl"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"创建人："}},[s("el-input",{attrs:{placeholder:"输入创建人"},model:{value:e.baseInfor.createdBy,callback:function(t){e.$set(e.baseInfor,"createdBy",t)},expression:"baseInfor.createdBy"}})],1)],1)],2),e._v(" "),s("el-collapse-item",{attrs:{name:"2"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("组件信息")])]),e._v(" "),s("div",{staticClass:"comp-wrapper"},[s("component-infor",{attrs:{infor:e.compList}})],1)],2),e._v(" "),s("el-collapse-item",{attrs:{name:"3"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("数据库连接配置")])]),e._v(" "),s("div",{staticClass:"database-wrapper"},[s("el-form",{staticClass:"database-infor",attrs:{model:e.databaseConfig,"label-width":"1.2rem",inline:!0}},[s("el-form-item",{attrs:{label:"数据库节点IP"}},[s("el-input",{attrs:{placeholder:"输入数据库节点IP"},model:{value:e.databaseConfig.host,callback:function(t){e.$set(e.databaseConfig,"host",t)},expression:"databaseConfig.host"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"端口"}},[s("el-input",{attrs:{placeholder:"输入端口"},model:{value:e.databaseConfig.port,callback:function(t){e.$set(e.databaseConfig,"port",t)},expression:"databaseConfig.port"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"数据库"}},[s("el-input",{attrs:{placeholder:"输入数据库"},model:{value:e.databaseConfig.database,callback:function(t){e.$set(e.databaseConfig,"database",t)},expression:"databaseConfig.database"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"数据库驱动"}},[s("el-select",{attrs:{placeholder:"选择数据库驱动"},model:{value:e.databaseConfig.driver,callback:function(t){e.$set(e.databaseConfig,"driver",t)},expression:"databaseConfig.driver"}},[s("el-option",{attrs:{label:"MySQL",value:"MySQL"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{attrs:{placeholder:"输入用户名"},model:{value:e.databaseConfig.user,callback:function(t){e.$set(e.databaseConfig,"user",t)},expression:"databaseConfig.user"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{attrs:{placeholder:"输入密码"},model:{value:e.databaseConfig.password,callback:function(t){e.$set(e.databaseConfig,"password",t)},expression:"databaseConfig.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"URL"}},[s("el-input",{attrs:{placeholder:"输入URL"},model:{value:e.databaseConfig.url,callback:function(t){e.$set(e.databaseConfig,"url",t)},expression:"databaseConfig.url"}})],1)],1)],1)],2),e._v(" "),s("el-collapse-item",{attrs:{name:"4"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("服务节点配置")])]),e._v(" "),s("div",{staticClass:"point-wrapper"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pointConfigs,border:""}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"50%"}}),e._v(" "),s("el-table-column",{attrs:{label:"服务节点IP"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.row.pointIp,expression:"scope.row.pointIp"}],attrs:{placeholder:"输入服务节点IP"},domProps:{value:t.row.pointIp},on:{input:function(s){s.target.composing||e.$set(t.row,"pointIp",s.target.value)}}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"访问端口"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.row.pointPort,expression:"scope.row.pointPort"}],attrs:{placeholder:"8080"},domProps:{value:t.row.pointPort},on:{input:function(s){s.target.composing||e.$set(t.row,"pointPort",s.target.value)}}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"传输端口"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("input",{directives:[{name:"model",rawName:"v-model",value:t.row.pointAddress,expression:"scope.row.pointAddress"}],attrs:{placeholder:"8090"},domProps:{value:t.row.pointAddress},on:{input:function(s){s.target.composing||e.$set(t.row,"pointAddress",s.target.value)}}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text"},on:{click:function(s){e.deletePoint(t.$index)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),s("div",{staticClass:"add-wrapper"},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addPoint}},[e._v("添加")])],1)],2)],1),e._v(" "),s("div",{staticClass:"content-footer"},[e.isMOr?s("el-button",{attrs:{type:"primary"},on:{click:e.deployCommand}},[e._v("确认部署")]):e._e()],1)],1)])},staticRenderFns:[]};var qe=s("VU/8")(Le,Pe,!1,function(e){s("DC+O")},null,null).exports,Ve={components:{OgOrderList:ie,IscListInfor:X},data:function(){return{activeNames:["1"],orders:[],iscList:[]}},created:function(){var e=this;this.$request.post("/api/cloudplatform/GrorderInfo").set("contentType","application/json").send({account:this.$store.state.userInfor.account}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.orders=s.body||[]}),this.$request.post("/api/cloudplatform/GriSCInfo").set("contentType","application/json").send({account:this.$store.state.userInfor.account}).end(function(t,s){t?e.$message({type:"error",message:t.response.text}):e.iscList=s.body||[]})}},Ae={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"account-detail"},[s("div",{staticClass:"content-wrapper"},[s("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[s("el-collapse-item",{attrs:{name:"1"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("我的订单")])]),e._v(" "),s("div",{staticClass:"order-wrapper wrapper"},[s("og-order-list",{attrs:{orders:e.orders,isAccountDetail:!0}})],1)],2),e._v(" "),s("el-collapse-item",{attrs:{name:"2"}},[s("template",{slot:"title"},[s("p",{staticClass:"title"},[e._v("我的iSC")])]),e._v(" "),s("div",{staticClass:"isc-wrapper wrapper"},[s("isc-list-infor",{attrs:{iscList:e.iscList,isAccountDetail:!0}})],1)],2)],1)],1)])},staticRenderFns:[]};var Be=s("VU/8")(Ve,Ae,!1,function(e){s("VgCj")},null,null).exports;a.default.use(p.a);var Fe=new p.a({routes:[{path:"/",component:f,children:[{path:"dr",component:A},{path:"detail",component:xe},{path:"proddetail",component:ke},{path:"orderdetail",component:Ne},{path:"iscdetail",component:qe},{path:"mor",component:E,children:[{path:"comppublish",component:J},{path:"isclist",component:te},{path:"iscrequest",component:ae},{path:"order",component:pe},{path:"prodlist",component:ue},{path:"userregister",component:_e}]},{path:"gr",component:H},{path:"/gr/detail",component:Be}]},{path:"/login",component:I}]}),Ee=s("GG98"),Re=s.n(Ee);a.default.config.productionTip=!1,a.default.prototype.$request=Re.a,a.default.use(l.a),a.default.use(o.a);var je=new l.a.Store({state:{userInfor:{user:"",type:"",account:""}},mutations:{setUserInfor:function(e,t){e.userInfor.user=t.user,e.userInfor.type=t.type,e.userInfor.account=t.account}}});new a.default({el:"#app",router:Fe,store:je,components:{App:n},template:"<App/>"})},Ngnk:function(e,t){},VgCj:function(e,t){},ZgVJ:function(e,t){},cL4S:function(e,t){},d0u9:function(e,t){},eZUS:function(e,t){},"f+U5":function(e,t){},f8HT:function(e,t){},jYqQ:function(e,t){},mGZz:function(e,t){},s40X:function(e,t){},tvR6:function(e,t){},uzI9:function(e,t){},w4Vm:function(e,t){},yBcw:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.4088d92644070e302e0c.js.map